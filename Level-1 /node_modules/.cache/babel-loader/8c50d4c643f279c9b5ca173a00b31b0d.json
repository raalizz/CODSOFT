{"ast":null,"code":"import { validateLimitRateParams } from '../validateLimitRateParams/validateLimitRateParams';\nconst getLeftTime = (id, throttle, localStorage) => {\n  const lastTime = Number(localStorage.getItem(id) || 0);\n  return throttle - Date.now() + lastTime;\n};\nconst removeRecord = (id, leftTime, localStorage) => {\n  setTimeout(() => {\n    localStorage.removeItem(id);\n  }, leftTime);\n};\nexport const isLimitRateHit = (localStorage, defaultID, options) => {\n  if (!options.throttle) {\n    return false;\n  }\n  validateLimitRateParams(options.throttle, options.id);\n  const id = options.id || defaultID;\n  const leftTime = getLeftTime(id, options.throttle, localStorage);\n  if (leftTime > 0) {\n    removeRecord(id, leftTime, localStorage);\n    return true;\n  }\n  localStorage.setItem(id, Date.now().toString());\n  removeRecord(id, options.throttle, localStorage);\n  return false;\n};","map":null,"metadata":{},"sourceType":"module"}